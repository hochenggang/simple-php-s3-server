<IfModule mod_headers.c>
    Header always set Access-Control-Allow-Origin "*"
    Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS, HEAD"
    Header always set Access-Control-Allow-Headers "Authorization, Content-Type, Content-Length, Content-MD5, Content-Disposition, X-Requested-With, Accept, Origin, Cache-Control"
    Header always set Access-Control-Expose-Headers "Content-Length, Content-Type, ETag, Last-Modified"
    Header always set Access-Control-Max-Age "86400"
</IfModule>

<IfModule mod_rewrite.c>
    RewriteEngine On

    RewriteCond %{HTTP:Authorization} .+
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

    RewriteRule ^.multipart/ - [F,L]
    RewriteRule ^\.env - [F,L]
    RewriteRule ^\.env\.example - [F,L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    RewriteRule ^(.*)$ index.php [L,QSA]
</IfModule>

<IfModule mod_proxy_fcgi.c>
    SetEnv ap_trust_cgilike_cl 1
    SetEnv proxy-sendcl 1
    SetEnv proxy-sendchunks 1
</IfModule>